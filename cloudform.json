{
"AWSTemplateFormatVersion": "2010-09-09",
    "Description": "creating a vpc and 2 subnets",
    
    "Parameters": {
      "AZ": {
        "Description" : "list of existing Availability Zones in this region",
        "Type" : "AWS::EC2::AvailabilityZone::Name"
      }
    },
    
    "Resources": {
      "name": {
        "Type": "AWS::EC2::VPC",
        "Properties": {
          "CidrBlock": "10.5.0.0/16",
          "Tags":[
          { "Key": "Name", "Value":  "NEW-VPC" }
          ]
        }
      },
        
      "subnet1": {
          "Type": "AWS::EC2::Subnet",
          "Properties": {
            "AvailabilityZone": 
            { "Ref": "AZ" }
            ,
            "VpcId": 
            { "Ref": "NEW-VPC" }
            ,
            "CidrBlock": "10.5.0.0/24",
            "Tags":[
            { "Key": "Name", "Value":  "pubsubnet1" }
            ]
          }
        },
        
        "subnet2": {
          "Type": "AWS::EC2::Subnet",
          "Properties": {
            "AvailabilityZone": 
            { "Ref": "AZ" }
            ,
            "VpcId": 
            { "Ref": "NEW-VPC" }
            ,
            "CidrBlock": "10.5.1.0/24",
            "Tags":[
            { "Key": "Name", "Value":  "privsubnet1" }
            ]
          }
        } 
    }
    
}
